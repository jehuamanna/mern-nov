<!DOCTYPE html>

<html>

<head>
    <title>Category - Subcategory</title>
</head>

<body>
    <script>
        const data = '[{"categories":[{"id":1,"name":"Electronics"},{"id":2,"name":"Clothing"},{"id":3,"name":"Home"},{"id":4,"name":"Food"},{"id":5,"name":"Furnitures"}]},{"subCategories":[{"id":1,"name":"TV","cid":1},{"id":2,"name":"Mobile","cid":1},{"id":3,"name":"Laptop","cid":1},{"id":4,"name":"Formal","cid":2},{"id":5,"name":"Winter","cid":2},{"id":6,"name":"Summer","cid":2},{"id":7,"name":"Rainy","cid":2},{"id":8,"name":"Kitchen","cid":3},{"id":9,"name":"Dining","cid":3},{"id":10,"name":"Outdoors","cid":3},{"id":11,"name":"Pizza","cid":4},{"id":12,"name":"Chair","cid":5},{"id":13,"name":"Table","cid":5},{"id":14,"name":"Shelf","cid":5}]}]'

        cat_subcat = JSON.parse(data)

        const categories = cat_subcat[0]["categories"]
        const subCategories = cat_subcat[1]['subCategories']


        const categoryDD = document.createElement('select')
        categoryDD.id = 'category'
        const subCategoryDD = document.createElement('select')
        subCategoryDD.id = 'subcategory'

        const labelCat = document.createElement('label')
        labelCat.for = 'category'
        labelCat.textContent = 'Category'
        document.body.appendChild(labelCat)

        const option = document.createElement('option')
        option.value = -1
        option.textContent = '-----SELECT------'
        categoryDD.appendChild(option)


        categories.forEach(function (item) {
            const option = document.createElement('option')
            option.value = item.id
            option.textContent = item.name
            categoryDD.appendChild(option)
        })

        document.body.appendChild(categoryDD)

        const labelSubCat = document.createElement('label')
        labelSubCat.for = 'subcategory'
        labelSubCat.textContent = 'Sub Category'

        const option1 = document.createElement('option')
        option1.value = -1
        option1.textContent = '-----SELECT------'
        subCategoryDD.appendChild(option1)
        document.body.appendChild(labelSubCat)
        document.body.appendChild(subCategoryDD)


        categoryDD.addEventListener('change', function () {
            subCategoryDD.innerHTML = ""
            const value = categoryDD[categoryDD.selectedIndex].value

            if (value == -1) {
                    const option1 = document.createElement('option')
                    option1.value = -1
                    option1.textContent = '-----SELECT------'
                    subCategoryDD.appendChild(option1)

                }

            subCategories.forEach(function (item) {
                

                if (item.cid == value) {
                    const option = document.createElement('option')
                    option.value = item.id
                    option.textContent = item.name
                    subCategoryDD.appendChild(option)
                }
            })
            document.body.appendChild(subCategoryDD)
        })

    </script>
</body>

</html>