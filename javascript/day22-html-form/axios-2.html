
<html>

        <head>
            <title> Data from API to table</title>
            <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        </head>
        
        <body>
        
            <input type="text" id='idSearch' placeholder="Search by name....">
            <br><br>
        
            <script>
                let table
                createTable()
        
                axios.get('https://jsonplaceholder.typicode.com/users').then(function (response) {
                    // console.log(response.data)
                    response.data.forEach(function (user) {
                        createRow(user)
                    })
        
                }).catch(function (err) {
                    alert('There was some error getting the data')
                })
        
                function createTable() {
                    table = document.createElement('table')
                    table.border = 1
                    document.body.appendChild(table)
                    const tHead = document.createElement('tr')
                    table.appendChild(tHead)
                    const th1 = document.createElement('th')
                    th1.textContent = 'Name'
                    const th2 = document.createElement('th')
                    th2.textContent = 'Username'
                    const th3 = document.createElement('th')
                    th3.textContent = 'Email'
                    tHead.appendChild(th1)
                    tHead.appendChild(th2)
                    tHead.appendChild(th3)
                }
        
                function createRow(user) {
                    const tr = document.createElement('tr')
                    table.appendChild(tr)
                    const td1 = document.createElement('td')
                    td1.textContent = user.name
                    const td2 = document.createElement('td')
                    td2.textContent = user.username
                    const td3 = document.createElement('td')
                    td3.textContent = user.email
        
                    tr.appendChild(td1)
                    tr.appendChild(td2)
                    tr.appendChild(td3)
                }
        
                const searchHandler = document.getElementById('idSearch')
                searchHandler.addEventListener('keyup', function () {
                    table.childNodes.forEach(function (row) {
                        if (!row.cells[0].textContent.toLowerCase().includes(searchHandler.value)) {
                            row.style.display = 'none'
                        }
                        else
                            row.style.display = 'table-row'